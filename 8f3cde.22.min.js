(window.webpackJsonp=window.webpackJsonp||[]).push([[22,65,83,116,143],{158:function(e,r,t){"use strict";t.r(r);t(130);var a=t(61),n=(t(667),t(681)),l=(t(607),t(608)),m=t(0),c=t.n(m),o=t(25),u=t(131),i=t.n(u),s=t(343),b=t(344),p=t(345),f=t(47),N=t(27),_=t(575),d=t.n(_),y="/mnt/e/workspace/hello-arco-pro/src/pages/step-form/index.tsx";r.default=function(){var e=Object(N.a)(),r=Object(o.c)((function(e){return e.stepForm})),t=Object(o.b)(),u=r.loading,_=r.step;return Object(m.useEffect)((function(){i.a.get("/api/stepForm").then((function(e){t({type:f.UPDATE_FORM,payload:{data:e.data||{}}})})).finally((function(){t({type:f.UPDATE_LOADING,payload:{loading:!1}})}))}),[]),c.a.createElement("div",{className:d.a.container,__source:{fileName:y,lineNumber:36,columnNumber:5}},c.a.createElement(l.a,{style:{marginBottom:20},__source:{fileName:y,lineNumber:37,columnNumber:7}},c.a.createElement(l.a.Item,{__source:{fileName:y,lineNumber:38,columnNumber:9}},e["menu.form"]),c.a.createElement(l.a.Item,{__source:{fileName:y,lineNumber:39,columnNumber:9}},e["menu.form.step"])),c.a.createElement(a.a,{loading:u,style:{width:"100%"},__source:{fileName:y,lineNumber:41,columnNumber:7}},c.a.createElement("div",{className:d.a.wrapper,__source:{fileName:y,lineNumber:42,columnNumber:9}},c.a.createElement(n.a,{labelPlacement:"vertical",className:d.a.steps,current:_,__source:{fileName:y,lineNumber:43,columnNumber:11}},c.a.createElement(n.a.Step,{title:e["stepForm.step.title.baseInfo"],description:e["stepForm.step.subTitle.baseInfo"],__source:{fileName:y,lineNumber:44,columnNumber:13}}),c.a.createElement(n.a.Step,{title:e["stepForm.step.title.target"],description:e["stepForm.step.subTitle.target"],__source:{fileName:y,lineNumber:48,columnNumber:13}}),c.a.createElement(n.a.Step,{title:e["stepForm.step.title.finish"],description:e["stepForm.step.subTitle.finish"],__source:{fileName:y,lineNumber:52,columnNumber:13}})),1===_&&c.a.createElement(s.default,{__source:{fileName:y,lineNumber:57,columnNumber:26}}),2===_&&c.a.createElement(b.default,{__source:{fileName:y,lineNumber:58,columnNumber:26}}),3===_&&c.a.createElement(p.default,{__source:{fileName:y,lineNumber:59,columnNumber:26}}))))}},343:function(e,r,t){"use strict";t.r(r);t(76);var a=t(32),n=(t(375),t(222)),l=(t(197),t(77)),m=(t(374),t(221)),c=(t(686),t(691)),o=(t(687),t(690)),u=(t(612),t(613)),i=(t(195),t(71)),s=t(28),b=t.n(s),p=t(0),f=t.n(p),N=t(25),_=t(131),d=t.n(_),y=t(47),E=t(27),O=t(575),g=t.n(O),v="/mnt/e/workspace/hello-arco-pro/src/pages/step-form/base-info.tsx";r.default=function(){var e=Object(E.a)(),r=Object(N.c)((function(e){return e.stepForm})),t=Object(N.b)(),s=r.data,_=r.activeKeys,O=Object(p.useRef)(),h=Object(p.useState)([]),j=b()(h,2),F=j[0],w=j[1],P=Object(p.useState)([]),k=b()(P,2),C=k[0],I=k[1],D=function(e){d.a.get("/api/lineList",{params:{cluster:e}}).then((function(e){I(e.data||[]),!s.lineName&&e.data.length&&O.current&&O.current.setFieldValue("lineName",e.data[0].value)}))};return Object(p.useEffect)((function(){d.a.get("/api/clusterList").then((function(e){w(e.data||[])}))}),[]),Object(p.useEffect)((function(){O.current.setFieldsValue(s),s.cluster&&D(s.cluster[0])}),[s]),Object(p.useEffect)((function(){return function(){var e,r=(null===(e=O.current)||void 0===e?void 0:e.getFieldsValue())||{};t({type:y.UPDATE_FORM,payload:{data:r}})}}),[]),f.a.createElement(u.a,{className:g.a.form,ref:O,__source:{fileName:v,lineNumber:93,columnNumber:5}},f.a.createElement(c.a,{bordered:!1,activeKey:_,onChange:function(e,r){t({type:y.UPDATE_ACTIVE_KEYS,payload:{activeKeys:r}})},__source:{fileName:v,lineNumber:94,columnNumber:7}},f.a.createElement(c.a.Item,{name:"baseConfig",header:e["stepForm.collapse.title.base"],__source:{fileName:v,lineNumber:95,columnNumber:9}},f.a.createElement("div",{className:g.a["form-content"],__source:{fileName:v,lineNumber:96,columnNumber:11}},f.a.createElement(u.a.Item,{label:e["stepForm.form.label.name"],field:"name",rules:[{required:!0,message:e["stepForm.form.error.name.required"]},{match:/^[a-zA-z0-9][-a-zA-z0-9]{0,62}(\.[a-zA-z0-9][-a-zA-z0-9]{0,62})+$/,message:e["stepForm.form.error.name.pattern"]}],__source:{fileName:v,lineNumber:97,columnNumber:13}},f.a.createElement(i.a,{placeholder:e["stepForm.placeholder.name"],__source:{fileName:v,lineNumber:108,columnNumber:15}})),f.a.createElement(u.a.Item,{label:e["stepForm.form.label.purpose"],field:"purpose",rules:[{required:!0,message:e["stepForm.form.error.purpose.required"]}],__source:{fileName:v,lineNumber:110,columnNumber:13}},f.a.createElement(i.a,{placeholder:e["stepForm.placeholder.purpose"],__source:{fileName:v,lineNumber:115,columnNumber:15}})),f.a.createElement(u.a.Item,{label:e["stepForm.form.label.cluster"],field:"cluster",__source:{fileName:v,lineNumber:117,columnNumber:13}},f.a.createElement(o.a,{placeholder:e["stepForm.placeholder.cluster"],options:F,onChange:function(e){var r=Array.isArray(e)&&e[e.length-1];O.current&&O.current.setFieldValue("lineName",void 0),r?D(r):I([])},__source:{fileName:v,lineNumber:118,columnNumber:15}})))),f.a.createElement(c.a.Item,{name:"advanceConfig",header:e["stepForm.collapse.title.highLevel"],__source:{fileName:v,lineNumber:126,columnNumber:9}},f.a.createElement(m.a,{closable:!0,banner:!0,type:"warning",content:e["stepForm.alert.highLevel"],__source:{fileName:v,lineNumber:127,columnNumber:11}}),f.a.createElement("div",{className:g.a["form-content"],__source:{fileName:v,lineNumber:128,columnNumber:11}},f.a.createElement(u.a.Item,{label:e["stepForm.form.label.type"],field:"type",__source:{fileName:v,lineNumber:129,columnNumber:13}},f.a.createElement(l.a,{placeholder:e["stepForm.placeholder.type"],__source:{fileName:v,lineNumber:130,columnNumber:15}},f.a.createElement(l.a.Option,{value:"web",__source:{fileName:v,lineNumber:131,columnNumber:17}},e["stepForm.label.type.web"]),f.a.createElement(l.a.Option,{value:"api",__source:{fileName:v,lineNumber:132,columnNumber:17}},e["stepForm.label.type.api"]))),f.a.createElement(u.a.Item,{label:e["stepForm.form.label.dns"],field:"dns",triggerPropName:"checked",__source:{fileName:v,lineNumber:135,columnNumber:13}},f.a.createElement(n.a,{__source:{fileName:v,lineNumber:140,columnNumber:15}})),f.a.createElement(u.a.Item,{label:e["stepForm.form.label.subDomain"],field:"subDomain",triggerPropName:"checked",__source:{fileName:v,lineNumber:142,columnNumber:13}},f.a.createElement(n.a,{__source:{fileName:v,lineNumber:147,columnNumber:15}})),f.a.createElement(u.a.Item,{label:e["stepForm.form.label.lineName"],field:"lineName",__source:{fileName:v,lineNumber:149,columnNumber:13}},f.a.createElement(l.a,{placeholder:e["stepForm.placeholder.lineName"],__source:{fileName:v,lineNumber:150,columnNumber:15}},C.map((function(e){return f.a.createElement(l.a.Option,{value:e.value,key:"".concat(e.value),__source:{fileName:v,lineNumber:152,columnNumber:19}},e.label)}))))))),f.a.createElement("div",{className:g.a.actions,__source:{fileName:v,lineNumber:161,columnNumber:7}},f.a.createElement(a.a,{type:"primary",onClick:function(){O.current.validate().then((function(){t({type:y.GO_NEXT})}))},__source:{fileName:v,lineNumber:162,columnNumber:9}},e["stepForm.button.next"])))}},344:function(e,r,t){"use strict";t.r(r);t(76);var a=t(32),n=(t(197),t(77)),l=(t(600),t(601)),m=(t(274),t(599)),c=(t(612),t(613)),o=(t(195),t(71)),u=(t(129),t(53)),i=(t(281),t(97)),s=t(5),b=t.n(s),p=t(28),f=t.n(p),N=t(0),_=t.n(N),d=t(25),y=t(131),E=t.n(y),O=t(47),g=t(27),v=t(575),h=t.n(v),j="/mnt/e/workspace/hello-arco-pro/src/pages/step-form/service.tsx";function F(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?F(Object(t),!0).forEach((function(r){b()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.default=function(){var e=Object(g.a)(),r=Object(d.c)((function(e){return e.stepForm})),t=Object(d.b)(),s=r.data,b=Object(N.useRef)(),p=Object(N.useState)(!1),y=f()(p,2),v=y[0],F=y[1];return Object(N.useEffect)((function(){b.current.setFieldsValue(s)}),[s]),Object(N.useEffect)((function(){return function(){var e,r=(null===(e=b.current)||void 0===e?void 0:e.getFieldsValue())||{};t({type:O.UPDATE_FORM,payload:{data:r}})}}),[]),_.a.createElement(c.a,{ref:b,className:h.a.form,labelCol:{span:5},wrapperCol:{span:19},__source:{fileName:j,lineNumber:69,columnNumber:5}},_.a.createElement(u.a.Title,{style:{marginTop:0,marginBottom:16},heading:6,__source:{fileName:j,lineNumber:70,columnNumber:7}},e["stepForm.form.title.upstream"]),_.a.createElement(c.a.Item,{label:"P.S.M",extra:e["stepForm.form.extra.psm"],required:!0,__source:{fileName:j,lineNumber:73,columnNumber:7}},_.a.createElement(m.a.Row,{align:"center",justify:"space-around",gutter:8,__source:{fileName:j,lineNumber:74,columnNumber:9}},_.a.createElement(m.a.Col,{span:16,__source:{fileName:j,lineNumber:75,columnNumber:11}},_.a.createElement(c.a.Item,{field:"psm",rules:[{required:!0,message:e["stepForm.form.error.psm.required"]}],style:{marginBottom:0},__source:{fileName:j,lineNumber:76,columnNumber:13}},_.a.createElement(o.a,{placeholder:"Product.Subsystem.Module",__source:{fileName:j,lineNumber:81,columnNumber:15}}))),_.a.createElement(m.a.Col,{span:8,__source:{fileName:j,lineNumber:84,columnNumber:11}},_.a.createElement(l.a,{__source:{fileName:j,lineNumber:85,columnNumber:13}},e["stepForm.link.psmDefine"])))),_.a.createElement(c.a.Item,{label:e["stepForm.form.label.strategy"],__source:{fileName:j,lineNumber:89,columnNumber:7}},_.a.createElement(m.a.Row,{align:"center",justify:"space-around",gutter:8,__source:{fileName:j,lineNumber:90,columnNumber:9}},_.a.createElement(m.a.Col,{span:16,__source:{fileName:j,lineNumber:91,columnNumber:11}},_.a.createElement(c.a.Item,{field:"strategy",style:{marginBottom:0},__source:{fileName:j,lineNumber:92,columnNumber:13}},_.a.createElement(n.a,{placeholder:e["stepForm.placeholder.strategy"],__source:{fileName:j,lineNumber:93,columnNumber:15}},_.a.createElement(n.a.Option,{value:"local",__source:{fileName:j,lineNumber:94,columnNumber:17}},"LOCAL"),_.a.createElement(n.a.Option,{value:"all",__source:{fileName:j,lineNumber:95,columnNumber:17}},"ALL")))),_.a.createElement(m.a.Col,{span:8,__source:{fileName:j,lineNumber:99,columnNumber:11}},_.a.createElement(l.a,{__source:{fileName:j,lineNumber:100,columnNumber:13}},e["stepForm.link.selectStrategy"])))),_.a.createElement("div",{className:h.a.actions,__source:{fileName:j,lineNumber:104,columnNumber:7}},_.a.createElement(a.a,{type:"secondary",onClick:function(){t({type:O.GO_PREV})},__source:{fileName:j,lineNumber:105,columnNumber:9}},e["stepForm.button.prev"]),_.a.createElement(a.a,{loading:v,type:"primary",onClick:function(){b.current.validate().then((function(){!function(){F(!0);var e=b.current.getFieldsValue();E.a.post("/api/domainApply",{data:w(w({},s),e)}).finally((function(){F(!1)})).then((function(){t({type:O.GO_NEXT})})).catch((function(e){i.a.error(e.message)}))}()}))},__source:{fileName:j,lineNumber:113,columnNumber:9}},e["stepForm.button.submit"])))}},345:function(e,r,t){"use strict";t.r(r);t(611);var a=t(614),n=(t(76),t(32)),l=t(0),m=t.n(l),c=t(25),o=t(47),u=t(27),i="/mnt/e/workspace/hello-arco-pro/src/pages/step-form/success.tsx";r.default=function(){var e=Object(u.a)(),r=Object(c.b)();return m.a.createElement(a.a,{status:"success",title:e["stepForm.success.title"],subTitle:e["stepForm.success.subTitle"],extra:[m.a.createElement(n.a,{key:"again",type:"secondary",style:{marginRight:16},onClick:function(){r({type:o.GO,payload:{step:1}})},__source:{fileName:i,lineNumber:19,columnNumber:9}},e["stepForm.button.again"]),m.a.createElement(n.a,{key:"view",type:"primary",__source:{fileName:i,lineNumber:29,columnNumber:9}},e["stepForm.button.view"])],__source:{fileName:i,lineNumber:14,columnNumber:5}})}},575:function(e,r,t){e.exports={container:"container-6427058b85",wrapper:"wrapper-1eba4af8b8",steps:"steps-79df5ed959",form:"form-2a6f8eda19","form-content":"form-content-96ca552934",actions:"actions-df2cdcf708"}},600:function(e,r,t){"use strict";t(16),t(603)},601:function(e,r,t){"use strict";var a=t(0),n=t.n(a),l=t(602),m=t(1),c=t(3),o=t(9),u=function(){return(u=Object.assign||function(e){for(var r,t=1,a=arguments.length;t<a;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)},i=function(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(t[a[n]]=e[a[n]])}return t},s={hoverable:!0};var b=Object(a.forwardRef)((function(e,r){var t,b=Object(a.useContext)(c.a),p=b.getPrefixCls,f=b.componentConfig,N=Object(o.a)(e,s,null==f?void 0:f.Link),_=N.className,d=N.style,y=N.children,E=N.icon,O=N.status,g=N.disabled,v=N.hoverable,h=i(N,["className","style","children","icon","status","disabled","hoverable"]),j=p("link"),F="href"in N?"a":"span";return n.a.createElement(F,u({className:Object(m.a)(j,(t={},t[j+"-disabled"]=g,t[j+"-is-"+O]=O,t[j+"-with-icon"]=E,t[j+"-hoverless"]=!v,t),_),ref:r},h,{style:d,onClick:function(e){g?(e.preventDefault(),e.stopPropagation()):N.onClick&&N.onClick(e)}}),E?n.a.createElement("span",{className:j+"-icon"},!0===E?n.a.createElement(l.a,null):E):null,y)}));b.displayName="Link",r.a=b},602:function(e,r,t){"use strict";var a=t(7),n=t.n(a),l=t(5),m=t.n(l),c=t(0),o=t.n(c),u=t(8);function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){m()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function b(e,r){var t=Object(c.useContext)(u.a).prefixCls,a=e.spin,l=e.className,m=s(s({ref:r},e),{},{className:"".concat(l?l+" ":"").concat(t,"-icon ").concat(t,"-icon-link")});return a&&(m.className="".concat(m.className," ").concat(t,"-icon-loading")),delete m.spin,delete m.isIcon,o.a.createElement("svg",n()({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",width:"1em",height:"1em"},m),o.a.createElement("path",{d:"m14.1 25.414-4.95 4.95a6 6 0 0 0 8.486 8.485l8.485-8.485a6 6 0 0 0 0-8.485m7.779.707 4.95-4.95a6 6 0 1 0-8.486-8.485l-8.485 8.485a6 6 0 0 0 0 8.485"}))}var p=o.a.forwardRef(b);p.defaultProps={isIcon:!0},p.displayName="IconLink",r.a=p},603:function(e,r,t){}}]);