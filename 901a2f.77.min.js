(window.webpackJsonp=window.webpackJsonp||[]).push([[77,138],{377:function(e,a,r){"use strict";r.r(a),r.d(a,"default",(function(){return P}));r(149);var n=r(79),t=(r(78),r(29)),l=(r(223),r(89)),u=(r(152),r(52)),i=(r(299),r(105)),c=(r(696),r(697)),m=(r(151),r(80)),o=r(114),s=r(669),b=(r(147),r(61)),f=r(5),N=r.n(f),_=(r(304),r(112)),p=r(26),g=r.n(p),E=r(70),d=r.n(E),O=r(0),v=r.n(O),h=r(30),j=r(34),y=r(613),S=r.n(y),w="/mnt/e/workspace/hello-arco-pro/src/pages/user-setting/info.tsx";function I(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?I(Object(r),!0).forEach((function(a){N()(e,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))}))}return e}function P(){var e=Object(j.a)(),a=Object(h.c)((function(e){return e.global.userInfo})),r=Object(O.useRef)(),f=Object(O.useState)(!1),N=g()(f,2),p=N[0],E=N[1],y=Object(O.useState)(""),I=g()(y,2),P=I[0],x=I[1];function z(e){e&&(x(e.avatar),r.current.setFieldsValue(k(k({},e),{},{avatar:[{uid:1,url:e.avatar}]})))}return Object(O.useEffect)((function(){a&&(x(a.avatar),z(a))}),[a]),v.a.createElement(i.a,{className:S.a["info-form"],layout:"vertical",ref:r,__source:{fileName:w,lineNumber:80,columnNumber:5}},v.a.createElement(b.a.Title,{heading:6,style:{marginTop:0,marginBottom:16,fontSize:14},__source:{fileName:w,lineNumber:81,columnNumber:7}},e["userSetting.title.basicInfo"]),v.a.createElement(i.a.Item,{label:e["userSetting.label.avatar"],field:"avatar",rules:[{required:!0}],triggerPropName:"fileList",__source:{fileName:w,lineNumber:84,columnNumber:7}},v.a.createElement(c.a,{showUploadList:!1,onChange:function(e,a){x(a.originFile?URL.createObjectURL(a.originFile):"")},__source:{fileName:w,lineNumber:90,columnNumber:9}},v.a.createElement(m.a,{size:64,triggerIcon:v.a.createElement(s.a,{__source:{fileName:w,lineNumber:91,columnNumber:42}}),className:S.a["info-avatar"],__source:{fileName:w,lineNumber:91,columnNumber:11}},P?v.a.createElement("img",{src:P,__source:{fileName:w,lineNumber:92,columnNumber:23}}):v.a.createElement(o.a,{__source:{fileName:w,lineNumber:92,columnNumber:46}})))),v.a.createElement(i.a.Item,{label:e["userSetting.label.name"],field:"name",rules:[{required:!0}],__source:{fileName:w,lineNumber:96,columnNumber:7}},v.a.createElement(u.a,{__source:{fileName:w,lineNumber:97,columnNumber:9}})),v.a.createElement(i.a.Item,{label:e["userSetting.label.location"],field:"location",rules:[{required:!0}],__source:{fileName:w,lineNumber:99,columnNumber:7}},v.a.createElement(l.a,{__source:{fileName:w,lineNumber:104,columnNumber:9}},v.a.createElement(l.a.Option,{key:"beijing",value:"beijing",__source:{fileName:w,lineNumber:105,columnNumber:11}},"北京"),v.a.createElement(l.a.Option,{key:"shanghai",value:"shanghai",__source:{fileName:w,lineNumber:108,columnNumber:11}},"上海"),v.a.createElement(l.a.Option,{key:"hangzhou",value:"hangzhou",__source:{fileName:w,lineNumber:111,columnNumber:11}},"杭州"),v.a.createElement(l.a.Option,{key:"xiamen",value:"xiamen",__source:{fileName:w,lineNumber:114,columnNumber:11}},"厦门"))),v.a.createElement(i.a.Item,{label:e["userSetting.label.introduction"],field:"introduction",__source:{fileName:w,lineNumber:119,columnNumber:7}},v.a.createElement(u.a.TextArea,{__source:{fileName:w,lineNumber:120,columnNumber:9}})),v.a.createElement(b.a.Title,{heading:6,__source:{fileName:w,lineNumber:123,columnNumber:7}},e["userSetting.title.socialInfo"]),v.a.createElement(i.a.Item,{label:e["userSetting.label.personalWebsite"],field:"personalWebsite",__source:{fileName:w,lineNumber:124,columnNumber:7}},v.a.createElement(u.a,{__source:{fileName:w,lineNumber:125,columnNumber:9}})),v.a.createElement(i.a.Item,{label:e["userSetting.label.personalWebsite"],field:"personalWebsite",__source:{fileName:w,lineNumber:127,columnNumber:7}},v.a.createElement(u.a,{__source:{fileName:w,lineNumber:128,columnNumber:9}})),v.a.createElement(n.a,{__source:{fileName:w,lineNumber:130,columnNumber:7}},v.a.createElement(t.a,{type:"primary",loading:p,onClick:function(){r.current.validate().then((function(a){var r;r=k(k({},a),{},{avatar:P}),E(!0),d.a.post("/api/user/saveInfo",{data:r}).then((function(){_.a.success(e["userSetting.saveSuccess"])})).finally((function(){E(!1)}))}))},__source:{fileName:w,lineNumber:131,columnNumber:9}},e["userSetting.save"]),v.a.createElement(t.a,{onClick:function(){z(a)},__source:{fileName:w,lineNumber:134,columnNumber:9}},e["userSetting.cancel"])))}},613:function(e,a,r){e.exports={container:"container-973734423b",wrapper:"wrapper-9733b71896",sidebar:"sidebar-02fe6f7bbf",content:"content-9c442760a0","info-form":"info-form-0a31daa85b","info-avatar":"info-avatar-9658aa947b"}}}]);