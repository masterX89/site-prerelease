{"version":3,"file":"96.min.js","sources":["webpack:///./src/pages/multi-dimension-data-analysis/download-history.tsx","webpack:///./src/utils/useChartTheme.ts"],"sourcesContent":["import \"@arco-design/web-react/es/Spin/style\";\nimport _Spin from \"@arco-design/web-react/es/Spin\";\nimport \"@arco-design/web-react/es/Card/style\";\nimport _Card from \"@arco-design/web-react/es/Card\";\nimport \"@arco-design/web-react/es/Checkbox/style\";\nimport _Checkbox from \"@arco-design/web-react/es/Checkbox\";\nimport \"@arco-design/web-react/es/Grid/style\";\nimport _Grid from \"@arco-design/web-react/es/Grid\";\nimport \"@arco-design/web-react/es/Form/style\";\nimport _Form from \"@arco-design/web-react/es/Form\";\nimport \"@arco-design/web-react/es/DatePicker/style\";\nimport _DatePicker from \"@arco-design/web-react/es/DatePicker\";\nimport \"@arco-design/web-react/es/Typography/style\";\nimport _Typography from \"@arco-design/web-react/es/Typography\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/mnt/e/workspace/hello-arco-pro/src/pages/multi-dimension-data-analysis/download-history.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// 历史下载量\nimport React, { useEffect, useState } from 'react';\nimport dayjs from 'dayjs';\nimport axios from 'axios';\nimport { omit } from 'lodash';\nimport { Chart, Line, Legend, Point, Tooltip, Axis } from 'bizcharts';\nimport useChartTheme from '../../utils/useChartTheme';\nimport useLocale from '../../utils/useLocale';\nvar DATE_FORMAT = 'YYYY-MM-DD';\nexport default (function () {\n  var locale = useLocale();\n  var chartTheme = useChartTheme();\n\n  var _useState = useState({\n    time: [dayjs().subtract(1, 'day').format(DATE_FORMAT), dayjs().format(DATE_FORMAT)],\n    showCompetitor: false\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchParams = _useState2[0],\n      setSearchParams = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var fetchData = function fetchData(params) {\n    var time = params || [];\n    setLoading(true);\n    axios.get('/api/downloadHistory', {\n      params: _objectSpread(_objectSpread({}, omit(params, 'time')), {}, {\n        startTime: time[0],\n        endTime: time[1]\n      })\n    }).then(function (res) {\n      setData(res.data);\n    })[\"finally\"](function () {\n      setLoading(false);\n    });\n  };\n\n  var onFormChange = function onFormChange(_value, values) {\n    setSearchParams(values);\n  };\n\n  useEffect(function () {\n    fetchData(searchParams);\n  }, [searchParams]);\n  return /*#__PURE__*/React.createElement(_Spin, {\n    loading: loading,\n    style: {\n      width: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(_Card, {\n    bordered: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Typography.Title, {\n    style: {\n      marginTop: 0,\n      marginBottom: 16,\n      fontSize: 14\n    },\n    heading: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, locale['multiDAnalysis.card.title.downloadHistory']), /*#__PURE__*/React.createElement(_Form, {\n    onChange: onFormChange,\n    initialValues: searchParams,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Grid.Row, {\n    justify: \"space-between\",\n    style: {\n      width: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(_Grid.Col, {\n    span: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    field: \"time\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(_DatePicker.RangePicker, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(_Grid.Col, {\n    span: 12,\n    style: {\n      textAlign: 'right'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    field: \"showCompetitor\",\n    triggerPropName: \"checked\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(_Checkbox, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, locale['multiDAnalysis.showCompetitor']))))), /*#__PURE__*/React.createElement(Chart, {\n    autoFit: true,\n    height: 228,\n    data: data,\n    theme: chartTheme,\n    style: {\n      paddingTop: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Line, {\n    position: \"x*y\",\n    color: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Axis, {\n    name: \"x\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Axis, {\n    name: \"y\",\n    label: {\n      formatter: function formatter(val) {\n        return \"\".concat(+val / 1000, \"K\");\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Point, {\n    position: \"x*y\",\n    shape: \"circle\",\n    color: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    shared: true,\n    showCrosshairs: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Legend, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }))));\n});","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { registerTheme, getTheme } from 'bizcharts';\nimport { useSelector } from 'react-redux';\nvar defaultDarkTheme = getTheme('dark');\nregisterTheme('darkTheme', _objectSpread(_objectSpread({}, defaultDarkTheme), {}, {\n  background: 'transparent'\n}));\n\nfunction useLocale() {\n  var theme = useSelector(function (state) {\n    return state.global.theme;\n  });\n  return theme === 'dark' ? 'darkTheme' : 'default';\n}\n\nexport default useLocale;"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}