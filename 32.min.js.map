{"version":3,"file":"32.min.js","sources":["webpack:///./src/pages/user-setting/style/index.module.less","webpack:///./src/pages/user-setting/info.tsx","webpack:///./src/pages/user-setting/style/index.module.less?02ce"],"sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".container-973734423b {\\n  padding: 20px;\\n}\\n.wrapper-9733b71896 {\\n  display: flex;\\n  background-color: var(--color-bg-2);\\n}\\n.wrapper-9733b71896 .sidebar-02fe6f7bbf {\\n  width: 200px;\\n  border-right: 1px solid var(--color-border);\\n}\\n.wrapper-9733b71896 .content-9c442760a0 {\\n  flex: 1;\\n  padding: 20px 24px;\\n}\\n.info-form-0a31daa85b {\\n  width: 375px;\\n}\\n.info-avatar-9658aa947b .arco-avatar-trigger-icon-button {\\n  color: rgb(var(--arcoblue-6));\\n}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"container\": \"container-973734423b\",\n\t\"wrapper\": \"wrapper-9733b71896\",\n\t\"sidebar\": \"sidebar-02fe6f7bbf\",\n\t\"content\": \"content-9c442760a0\",\n\t\"info-form\": \"info-form-0a31daa85b\",\n\t\"info-avatar\": \"info-avatar-9658aa947b\"\n};\nmodule.exports = exports;\n","import \"@arco-design/web-react/es/Space/style\";\nimport _Space from \"@arco-design/web-react/es/Space\";\nimport \"@arco-design/web-react/es/Button/style\";\nimport _Button from \"@arco-design/web-react/es/Button\";\nimport \"@arco-design/web-react/es/Select/style\";\nimport _Select from \"@arco-design/web-react/es/Select\";\nimport \"@arco-design/web-react/es/Input/style\";\nimport _Input from \"@arco-design/web-react/es/Input\";\nimport \"@arco-design/web-react/es/Form/style\";\nimport _Form from \"@arco-design/web-react/es/Form\";\nimport \"@arco-design/web-react/es/Upload/style\";\nimport _Upload from \"@arco-design/web-react/es/Upload\";\nimport \"@arco-design/web-react/es/Avatar/style\";\nimport _Avatar from \"@arco-design/web-react/es/Avatar\";\nimport _IconPlus from \"@arco-design/web-react/icon/react-icon/IconPlus\";\nimport _IconCamera from \"@arco-design/web-react/icon/react-icon/IconCamera\";\nimport \"@arco-design/web-react/es/Typography/style\";\nimport _Typography from \"@arco-design/web-react/es/Typography\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport \"@arco-design/web-react/es/Message/style\";\nimport _Message from \"@arco-design/web-react/es/Message\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/mnt/e/workspace/hello-arco-pro/src/pages/user-setting/info.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport axios from 'axios';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport useLocale from '../../utils/useLocale';\nimport styles from './style/index.module.less';\nexport default function Info() {\n  var locale = useLocale();\n  var userInfo = useSelector(function (state) {\n    return state.global.userInfo;\n  });\n  var formRef = useRef();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      avatar = _useState4[0],\n      setAvatar = _useState4[1];\n\n  function save(params) {\n    setLoading(true);\n    axios.post('/api/user/saveInfo', {\n      data: params\n    }).then(function () {\n      _Message.success(locale['userSetting.saveSuccess']);\n    })[\"finally\"](function () {\n      setLoading(false);\n    });\n  }\n\n  function onSaveBtnClick() {\n    formRef.current.validate().then(function (values) {\n      save(_objectSpread(_objectSpread({}, values), {}, {\n        avatar: avatar\n      }));\n    });\n  }\n\n  function onCancelBtnClick() {\n    setInitialValue(userInfo);\n  }\n\n  function setInitialValue(values) {\n    if (values) {\n      setAvatar(values.avatar);\n      formRef.current.setFieldsValue(_objectSpread(_objectSpread({}, values), {}, {\n        avatar: [{\n          uid: 1,\n          url: values.avatar\n        }]\n      }));\n    }\n  }\n\n  useEffect(function () {\n    if (userInfo) {\n      setAvatar(userInfo.avatar);\n      setInitialValue(userInfo);\n    }\n  }, [userInfo]);\n\n  function onAvatarChange(_, file) {\n    setAvatar(file.originFile ? URL.createObjectURL(file.originFile) : '');\n  }\n\n  return /*#__PURE__*/React.createElement(_Form, {\n    className: styles['info-form'],\n    layout: \"vertical\",\n    ref: formRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(_Typography.Title, {\n    heading: 6,\n    style: {\n      marginTop: 0,\n      marginBottom: 16,\n      fontSize: 14\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, locale['userSetting.title.basicInfo']), /*#__PURE__*/React.createElement(_Form.Item, {\n    label: locale['userSetting.label.avatar'],\n    field: \"avatar\",\n    rules: [{\n      required: true\n    }],\n    triggerPropName: \"fileList\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Upload, {\n    showUploadList: false,\n    onChange: onAvatarChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Avatar, {\n    size: 64,\n    triggerIcon: /*#__PURE__*/React.createElement(_IconCamera, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 42\n      }\n    }),\n    className: styles['info-avatar'],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, avatar ? /*#__PURE__*/React.createElement(\"img\", {\n    src: avatar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 23\n    }\n  }) : /*#__PURE__*/React.createElement(_IconPlus, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 46\n    }\n  })))), /*#__PURE__*/React.createElement(_Form.Item, {\n    label: locale['userSetting.label.name'],\n    field: \"name\",\n    rules: [{\n      required: true\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Input, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(_Form.Item, {\n    label: locale['userSetting.label.location'],\n    field: \"location\",\n    rules: [{\n      required: true\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Select, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Select.Option, {\n    key: \"beijing\",\n    value: \"beijing\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, \"\\u5317\\u4EAC\"), /*#__PURE__*/React.createElement(_Select.Option, {\n    key: \"shanghai\",\n    value: \"shanghai\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, \"\\u4E0A\\u6D77\"), /*#__PURE__*/React.createElement(_Select.Option, {\n    key: \"hangzhou\",\n    value: \"hangzhou\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, \"\\u676D\\u5DDE\"), /*#__PURE__*/React.createElement(_Select.Option, {\n    key: \"xiamen\",\n    value: \"xiamen\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, \"\\u53A6\\u95E8\"))), /*#__PURE__*/React.createElement(_Form.Item, {\n    label: locale['userSetting.label.introduction'],\n    field: \"introduction\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Input.TextArea, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(_Typography.Title, {\n    heading: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, locale['userSetting.title.socialInfo']), /*#__PURE__*/React.createElement(_Form.Item, {\n    label: locale['userSetting.label.personalWebsite'],\n    field: \"personalWebsite\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Input, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(_Form.Item, {\n    label: locale['userSetting.label.personalWebsite'],\n    field: \"personalWebsite\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Input, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(_Space, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Button, {\n    type: \"primary\",\n    loading: loading,\n    onClick: onSaveBtnClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, locale['userSetting.save']), /*#__PURE__*/React.createElement(_Button, {\n    onClick: onCancelBtnClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, locale['userSetting.cancel'])));\n}","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--11-1!../../../../node_modules/less-loader/dist/cjs.js??ref--11-2!./index.module.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC/SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}