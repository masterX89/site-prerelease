(window.webpackJsonp=window.webpackJsonp||[]).push([[24,73,74,108,135],{178:function(e,r,t){"use strict";t.r(r);t(148);var a=t(69),l=(t(685),t(691)),m=(t(636),t(637)),n=t(0),u=t.n(n),c=t(30),o=t(70),i=t.n(o),s=t(364),b=t(365),N=t(366),p=t(54),f=t(34),_=t(610),d=t.n(_),E="/mnt/e/workspace/hello-arco-pro/src/pages/step-form/index.tsx";r.default=function(){var e=Object(f.a)(),r=Object(c.c)((function(e){return e.stepForm})),t=Object(c.b)(),o=r.loading,_=r.step;return Object(n.useEffect)((function(){i.a.get("/api/stepForm").then((function(e){t({type:p.UPDATE_FORM,payload:{data:e.data||{}}})})).finally((function(){t({type:p.UPDATE_LOADING,payload:{loading:!1}})}))}),[]),u.a.createElement("div",{className:d.a.container,__source:{fileName:E,lineNumber:36,columnNumber:5}},u.a.createElement(m.a,{style:{marginBottom:20},__source:{fileName:E,lineNumber:37,columnNumber:7}},u.a.createElement(m.a.Item,{__source:{fileName:E,lineNumber:38,columnNumber:9}},e["menu.form"]),u.a.createElement(m.a.Item,{__source:{fileName:E,lineNumber:39,columnNumber:9}},e["menu.form.step"])),u.a.createElement(a.a,{loading:o,style:{width:"100%"},__source:{fileName:E,lineNumber:41,columnNumber:7}},u.a.createElement("div",{className:d.a.wrapper,__source:{fileName:E,lineNumber:42,columnNumber:9}},u.a.createElement(l.a,{labelPlacement:"vertical",className:d.a.steps,current:_,__source:{fileName:E,lineNumber:43,columnNumber:11}},u.a.createElement(l.a.Step,{title:e["stepForm.step.title.baseInfo"],description:e["stepForm.step.subTitle.baseInfo"],__source:{fileName:E,lineNumber:44,columnNumber:13}}),u.a.createElement(l.a.Step,{title:e["stepForm.step.title.target"],description:e["stepForm.step.subTitle.target"],__source:{fileName:E,lineNumber:48,columnNumber:13}}),u.a.createElement(l.a.Step,{title:e["stepForm.step.title.finish"],description:e["stepForm.step.subTitle.finish"],__source:{fileName:E,lineNumber:52,columnNumber:13}})),1===_&&u.a.createElement(s.default,{__source:{fileName:E,lineNumber:57,columnNumber:26}}),2===_&&u.a.createElement(b.default,{__source:{fileName:E,lineNumber:58,columnNumber:26}}),3===_&&u.a.createElement(N.default,{__source:{fileName:E,lineNumber:59,columnNumber:26}}))))}},364:function(e,r,t){"use strict";t.r(r);t(78);var a=t(29),l=(t(396),t(240)),m=(t(223),t(89)),n=(t(395),t(237)),u=(t(694),t(699)),c=(t(695),t(698)),o=(t(299),t(105)),i=(t(152),t(52)),s=t(26),b=t.n(s),N=t(0),p=t.n(N),f=t(30),_=t(70),d=t.n(_),E=t(54),y=t(34),g=t(610),F=t.n(g),O="/mnt/e/workspace/hello-arco-pro/src/pages/step-form/base-info.tsx";r.default=function(){var e=Object(y.a)(),r=Object(f.c)((function(e){return e.stepForm})),t=Object(f.b)(),s=r.data,_=r.activeKeys,g=Object(N.useRef)(),v=Object(N.useState)([]),h=b()(v,2),j=h[0],w=h[1],I=Object(N.useState)([]),P=b()(I,2),k=P[0],A=P[1],C=function(e){d.a.get("/api/lineList",{params:{cluster:e}}).then((function(e){A(e.data||[]),!s.lineName&&e.data.length&&g.current&&g.current.setFieldValue("lineName",e.data[0].value)}))};return Object(N.useEffect)((function(){d.a.get("/api/clusterList").then((function(e){w(e.data||[])}))}),[]),Object(N.useEffect)((function(){g.current.setFieldsValue(s),s.cluster&&C(s.cluster[0])}),[s]),Object(N.useEffect)((function(){return function(){var e,r=(null===(e=g.current)||void 0===e?void 0:e.getFieldsValue())||{};t({type:E.UPDATE_FORM,payload:{data:r}})}}),[]),p.a.createElement(o.a,{className:F.a.form,ref:g,__source:{fileName:O,lineNumber:93,columnNumber:5}},p.a.createElement(u.a,{bordered:!1,activeKey:_,onChange:function(e,r){t({type:E.UPDATE_ACTIVE_KEYS,payload:{activeKeys:r}})},__source:{fileName:O,lineNumber:94,columnNumber:7}},p.a.createElement(u.a.Item,{name:"baseConfig",header:e["stepForm.collapse.title.base"],__source:{fileName:O,lineNumber:95,columnNumber:9}},p.a.createElement("div",{className:F.a["form-content"],__source:{fileName:O,lineNumber:96,columnNumber:11}},p.a.createElement(o.a.Item,{label:e["stepForm.form.label.name"],field:"name",rules:[{required:!0,message:e["stepForm.form.error.name.required"]},{match:/^[a-zA-z0-9][-a-zA-z0-9]{0,62}(\.[a-zA-z0-9][-a-zA-z0-9]{0,62})+$/,message:e["stepForm.form.error.name.pattern"]}],__source:{fileName:O,lineNumber:97,columnNumber:13}},p.a.createElement(i.a,{placeholder:e["stepForm.placeholder.name"],__source:{fileName:O,lineNumber:108,columnNumber:15}})),p.a.createElement(o.a.Item,{label:e["stepForm.form.label.purpose"],field:"purpose",rules:[{required:!0,message:e["stepForm.form.error.purpose.required"]}],__source:{fileName:O,lineNumber:110,columnNumber:13}},p.a.createElement(i.a,{placeholder:e["stepForm.placeholder.purpose"],__source:{fileName:O,lineNumber:115,columnNumber:15}})),p.a.createElement(o.a.Item,{label:e["stepForm.form.label.cluster"],field:"cluster",__source:{fileName:O,lineNumber:117,columnNumber:13}},p.a.createElement(c.a,{placeholder:e["stepForm.placeholder.cluster"],options:j,onChange:function(e){var r=Array.isArray(e)&&e[e.length-1];g.current&&g.current.setFieldValue("lineName",void 0),r?C(r):A([])},__source:{fileName:O,lineNumber:118,columnNumber:15}})))),p.a.createElement(u.a.Item,{name:"advanceConfig",header:e["stepForm.collapse.title.highLevel"],__source:{fileName:O,lineNumber:126,columnNumber:9}},p.a.createElement(n.a,{closable:!0,banner:!0,type:"warning",content:e["stepForm.alert.highLevel"],__source:{fileName:O,lineNumber:127,columnNumber:11}}),p.a.createElement("div",{className:F.a["form-content"],__source:{fileName:O,lineNumber:128,columnNumber:11}},p.a.createElement(o.a.Item,{label:e["stepForm.form.label.type"],field:"type",__source:{fileName:O,lineNumber:129,columnNumber:13}},p.a.createElement(m.a,{placeholder:e["stepForm.placeholder.type"],__source:{fileName:O,lineNumber:130,columnNumber:15}},p.a.createElement(m.a.Option,{value:"web",__source:{fileName:O,lineNumber:131,columnNumber:17}},e["stepForm.label.type.web"]),p.a.createElement(m.a.Option,{value:"api",__source:{fileName:O,lineNumber:132,columnNumber:17}},e["stepForm.label.type.api"]))),p.a.createElement(o.a.Item,{label:e["stepForm.form.label.dns"],field:"dns",triggerPropName:"checked",__source:{fileName:O,lineNumber:135,columnNumber:13}},p.a.createElement(l.a,{__source:{fileName:O,lineNumber:140,columnNumber:15}})),p.a.createElement(o.a.Item,{label:e["stepForm.form.label.subDomain"],field:"subDomain",triggerPropName:"checked",__source:{fileName:O,lineNumber:142,columnNumber:13}},p.a.createElement(l.a,{__source:{fileName:O,lineNumber:147,columnNumber:15}})),p.a.createElement(o.a.Item,{label:e["stepForm.form.label.lineName"],field:"lineName",__source:{fileName:O,lineNumber:149,columnNumber:13}},p.a.createElement(m.a,{placeholder:e["stepForm.placeholder.lineName"],__source:{fileName:O,lineNumber:150,columnNumber:15}},k.map((function(e){return p.a.createElement(m.a.Option,{value:e.value,key:"".concat(e.value),__source:{fileName:O,lineNumber:152,columnNumber:19}},e.label)}))))))),p.a.createElement("div",{className:F.a.actions,__source:{fileName:O,lineNumber:161,columnNumber:7}},p.a.createElement(a.a,{type:"primary",onClick:function(){g.current.validate().then((function(){t({type:E.GO_NEXT})}))},__source:{fileName:O,lineNumber:162,columnNumber:9}},e["stepForm.button.next"])))}},365:function(e,r,t){"use strict";t.r(r);t(78);var a=t(29),l=(t(223),t(89)),m=(t(297),t(221)),n=(t(220),t(150)),u=(t(299),t(105)),c=(t(152),t(52)),o=(t(147),t(61)),i=(t(304),t(112)),s=t(5),b=t.n(s),N=t(26),p=t.n(N),f=t(0),_=t.n(f),d=t(30),E=t(70),y=t.n(E),g=t(54),F=t(34),O=t(610),v=t.n(O),h="/mnt/e/workspace/hello-arco-pro/src/pages/step-form/service.tsx";function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?j(Object(t),!0).forEach((function(r){b()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.default=function(){var e=Object(F.a)(),r=Object(d.c)((function(e){return e.stepForm})),t=Object(d.b)(),s=r.data,b=Object(f.useRef)(),N=Object(f.useState)(!1),E=p()(N,2),O=E[0],j=E[1];return Object(f.useEffect)((function(){b.current.setFieldsValue(s)}),[s]),Object(f.useEffect)((function(){return function(){var e,r=(null===(e=b.current)||void 0===e?void 0:e.getFieldsValue())||{};t({type:g.UPDATE_FORM,payload:{data:r}})}}),[]),_.a.createElement(u.a,{ref:b,className:v.a.form,labelCol:{span:5},wrapperCol:{span:19},__source:{fileName:h,lineNumber:69,columnNumber:5}},_.a.createElement(o.a.Title,{style:{marginTop:0,marginBottom:16},heading:6,__source:{fileName:h,lineNumber:70,columnNumber:7}},e["stepForm.form.title.upstream"]),_.a.createElement(u.a.Item,{label:"P.S.M",extra:e["stepForm.form.extra.psm"],required:!0,__source:{fileName:h,lineNumber:73,columnNumber:7}},_.a.createElement(n.a.Row,{align:"center",justify:"space-around",gutter:8,__source:{fileName:h,lineNumber:74,columnNumber:9}},_.a.createElement(n.a.Col,{span:16,__source:{fileName:h,lineNumber:75,columnNumber:11}},_.a.createElement(u.a.Item,{field:"psm",rules:[{required:!0,message:e["stepForm.form.error.psm.required"]}],style:{marginBottom:0},__source:{fileName:h,lineNumber:76,columnNumber:13}},_.a.createElement(c.a,{placeholder:"Product.Subsystem.Module",__source:{fileName:h,lineNumber:81,columnNumber:15}}))),_.a.createElement(n.a.Col,{span:8,__source:{fileName:h,lineNumber:84,columnNumber:11}},_.a.createElement(m.a,{__source:{fileName:h,lineNumber:85,columnNumber:13}},e["stepForm.link.psmDefine"])))),_.a.createElement(u.a.Item,{label:e["stepForm.form.label.strategy"],__source:{fileName:h,lineNumber:89,columnNumber:7}},_.a.createElement(n.a.Row,{align:"center",justify:"space-around",gutter:8,__source:{fileName:h,lineNumber:90,columnNumber:9}},_.a.createElement(n.a.Col,{span:16,__source:{fileName:h,lineNumber:91,columnNumber:11}},_.a.createElement(u.a.Item,{field:"strategy",style:{marginBottom:0},__source:{fileName:h,lineNumber:92,columnNumber:13}},_.a.createElement(l.a,{placeholder:e["stepForm.placeholder.strategy"],__source:{fileName:h,lineNumber:93,columnNumber:15}},_.a.createElement(l.a.Option,{value:"local",__source:{fileName:h,lineNumber:94,columnNumber:17}},"LOCAL"),_.a.createElement(l.a.Option,{value:"all",__source:{fileName:h,lineNumber:95,columnNumber:17}},"ALL")))),_.a.createElement(n.a.Col,{span:8,__source:{fileName:h,lineNumber:99,columnNumber:11}},_.a.createElement(m.a,{__source:{fileName:h,lineNumber:100,columnNumber:13}},e["stepForm.link.selectStrategy"])))),_.a.createElement("div",{className:v.a.actions,__source:{fileName:h,lineNumber:104,columnNumber:7}},_.a.createElement(a.a,{type:"secondary",onClick:function(){t({type:g.GO_PREV})},__source:{fileName:h,lineNumber:105,columnNumber:9}},e["stepForm.button.prev"]),_.a.createElement(a.a,{loading:O,type:"primary",onClick:function(){b.current.validate().then((function(){!function(){j(!0);var e=b.current.getFieldsValue();y.a.post("/api/domainApply",{data:w(w({},s),e)}).finally((function(){j(!1)})).then((function(){t({type:g.GO_NEXT})})).catch((function(e){i.a.error(e.message)}))}()}))},__source:{fileName:h,lineNumber:113,columnNumber:9}},e["stepForm.button.submit"])))}},366:function(e,r,t){"use strict";t.r(r);t(641);var a=t(642),l=(t(78),t(29)),m=t(0),n=t.n(m),u=t(30),c=t(54),o=t(34),i="/mnt/e/workspace/hello-arco-pro/src/pages/step-form/success.tsx";r.default=function(){var e=Object(o.a)(),r=Object(u.b)();return n.a.createElement(a.a,{status:"success",title:e["stepForm.success.title"],subTitle:e["stepForm.success.subTitle"],extra:[n.a.createElement(l.a,{key:"again",type:"secondary",style:{marginRight:16},onClick:function(){r({type:c.GO,payload:{step:1}})},__source:{fileName:i,lineNumber:19,columnNumber:9}},e["stepForm.button.again"]),n.a.createElement(l.a,{key:"view",type:"primary",__source:{fileName:i,lineNumber:29,columnNumber:9}},e["stepForm.button.view"])],__source:{fileName:i,lineNumber:14,columnNumber:5}})}},610:function(e,r,t){e.exports={container:"container-6427058b85",wrapper:"wrapper-1eba4af8b8",steps:"steps-79df5ed959",form:"form-2a6f8eda19","form-content":"form-content-96ca552934",actions:"actions-df2cdcf708"}}}]);